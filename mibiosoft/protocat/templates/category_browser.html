{% extends 'base.html' %}

{% block content %}

<style>
<!-- make the rows of data have the correct mouse cursor -->
tr:hover{
	cursor: hand;
	cursor: pointer;
}
</style>

<!-- allow you to go up a level -->
<div class="col-md-12">
	{% if parent_category %}
	{% if parent_category and parent_category.parent_category %}
	<a href="/browse/{{ parent_category.parent_category.id }}/">Up a level</a>
	{% else %}
	<a href="/browse/">Up a level</a>
	{% endif %}
	{% endif %}
</div>

<div class="col-md-12">
	<div class="panel"><strong><center>Categories</center></strong></div>
</div>

<div class="container">	
	<div class="row">
		{% for category in categories %}
			<div onclick="location.href='/browse/{{ category.id }}/'" class="col-xs-4">
				<div class="panel panel-default">
					<div class="panel-heading">
					<center><strong>
					<a href="/browse/{{ category.id }}/">{{ category.title }}</a>
					</center></strong>
							{{ category.description }}
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
</div>

<div class="col-md-12">
	{% for protocol in protocols %}
		<div onclick="location.href='/protocol/{{ protocol.id }}/'">
			<div class="panel panel-default">
				<div class-"panel-heading">
					<h3><center><strong>{{ protocol.title }}</strong></center></h3>
					<h5><center>{{ protocol.author }}</center></h5>
					<div class="panel-body">
						<div class="container-fluid">
							<div class="row">
							<!-- I need these to stack next to eachother! -->
								<div class="col-xs-12 col-sm-6 col-md-8">
									{{ protocol.description }}
								</div>
								<div class="col-xs-6 col-md-4">
									{{ protocol.upload_date }}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endfor %}
</div>

<div class="col-md-12" >
	<div class="panel panel-primary">
		<div class="panel-heading">Protocol List</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Title</th>
					<th>Author</th>
					<th>Description</th>
					<th>Upload Date</th>
					<th>Rating</th>
				</tr>
			</thead>
			<tbody>
					{% for protocol in protocols %}
				<tr onclick="location.href='/protocol/{{ protocol.id }}/'">
					<td><a href="/protocol/{{ protocol.id }}/">{{ protocol.title }}</a></td>
					<td>{{ protocol.author }} but does it work?</td>
					<td>{{ protocol.description }}</td>
					<td>{{ protocol.upload_date }}</td>
					<td>{{ protocol.get_average_ratings }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
